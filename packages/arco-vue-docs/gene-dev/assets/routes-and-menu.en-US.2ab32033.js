import{_ as v,d as x,u as w,o as y,c as A,w as s,m as M,r,e as n,a,b as t}from"./index.9c61ea88.js";const I=x({name:"ArcoMain",components:{},setup(){const{locale:u}=w(),e={meta:{type:"Arco Pro"},title:"Routes and menu",description:"Route and menu generation"},d=(f,g)=>u.value==="zh-CN"?f:g;return{locale:u,data:e,changelog:typeof _changelog=="undefined"?void 0:_changelog,getMessage:d}}});function R(u,e,d,c,f,g){const p=r("anchor-head"),i=r("a-th"),l=r("a-tr"),k=r("a-thead"),o=r("a-td"),m=r("a-tbody"),b=r("a-table"),h=r("arco-article");return y(),A(h,M(u.data,{changelog:u.changelog}),{default:s(()=>[e[48]||(e[48]=n("p",null,[n("em",null,"Auto translate by google.")],-1)),e[49]||(e[49]=n("p",null,"The routing is usually tied to the menu. In order to reduce the amount of maintenance, we directly generate the menu through the routing table.",-1)),a(p,{level:"2",href:"Router"},{default:s(()=>e[0]||(e[0]=[t("Router")])),_:1}),e[50]||(e[50]=n("p",null,[t("First, you need to understand the configuration of the routing table. For basic routing configuration, please refer to the official documentation of "),n("a",{class:"link",href:"https://router.vuejs.org/"},"Vue-Router")],-1)),e[51]||(e[51]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token comment"},"// In this example, the final path to the page is /dashboard/workplace"),t(`
`),n("span",{class:"token keyword"},"export"),t(),n("span",{class:"token keyword"},"default"),t(),n("span",{class:"token punctuation"},"{"),t(`
 path`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'dashboard'"),n("span",{class:"token punctuation"},","),t(`
 name`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'dashboard'"),n("span",{class:"token punctuation"},","),t(`
 `),n("span",{class:"token function-variable function"},"component"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token keyword"},"import"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'@/views/dashboard/index.vue'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),t(`
 meta`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"{"),t(`
   locale`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'menu.dashboard'"),n("span",{class:"token punctuation"},","),t(`
   requiresAuth`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),t(`
   icon`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'icon-dashboard'"),n("span",{class:"token punctuation"},","),t(`
 `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
 children`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"["),t(`
   `),n("span",{class:"token punctuation"},"{"),t(`
     path`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'workplace'"),n("span",{class:"token punctuation"},","),t(`
     name`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'workplace'"),n("span",{class:"token punctuation"},","),t(`
     `),n("span",{class:"token function-variable function"},"component"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token keyword"},"import"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'@/views/dashboard/workplace/index.vue'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),t(`
     meta`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"{"),t(`
       locale`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'menu.dashboard.workplace'"),n("span",{class:"token punctuation"},","),t(`
       requiresAuth`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),t(`
       roles`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'admin'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),t(`
       hideInMenu`),n("span",{class:"token operator"},":"),t(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),t(`
     `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
   `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
 `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),t(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),t(`
`)])],-1)),e[52]||(e[52]=n("p",null,[t("Route "),n("code",null,"Meta"),t(" meta information")],-1)),a(b,{class:"component-api-table"},{default:s(()=>[e[45]||(e[45]=n("colgroup",null,[n("col",{style:{"min-width":"120px"}})],-1)),a(k,null,{default:s(()=>[a(l,null,{default:s(()=>[a(i,null,{default:s(()=>e[1]||(e[1]=[t("Key")])),_:1}),a(i,null,{default:s(()=>e[2]||(e[2]=[t("Description")])),_:1}),a(i,null,{default:s(()=>e[3]||(e[3]=[t("Type")])),_:1}),a(i,null,{default:s(()=>e[4]||(e[4]=[t("default")])),_:1})]),_:1})]),_:1}),a(m,null,{default:s(()=>[a(l,null,{default:s(()=>[a(o,null,{default:s(()=>e[5]||(e[5]=[t("roles")])),_:1}),a(o,null,{default:s(()=>e[6]||(e[6]=[t("Configure the role that can access the page. If it does not match, it will be forbidden to access the routing page")])),_:1}),a(o,null,{default:s(()=>e[7]||(e[7]=[t("string[]")])),_:1}),a(o,null,{default:s(()=>e[8]||(e[8]=[t("-")])),_:1})]),_:1}),a(l,null,{default:s(()=>[a(o,null,{default:s(()=>e[9]||(e[9]=[t("requiresAuth")])),_:1}),a(o,null,{default:s(()=>e[10]||(e[10]=[t("Whether login authentication is required")])),_:1}),a(o,null,{default:s(()=>e[11]||(e[11]=[t("boolean")])),_:1}),a(o,null,{default:s(()=>e[12]||(e[12]=[t("false")])),_:1})]),_:1}),a(l,null,{default:s(()=>[a(o,null,{default:s(()=>e[13]||(e[13]=[t("icon")])),_:1}),a(o,null,{default:s(()=>e[14]||(e[14]=[t("Menu configuration icon")])),_:1}),a(o,null,{default:s(()=>e[15]||(e[15]=[t("string")])),_:1}),a(o,null,{default:s(()=>e[16]||(e[16]=[t("-")])),_:1})]),_:1}),a(l,null,{default:s(()=>[a(o,null,{default:s(()=>e[17]||(e[17]=[t("locale")])),_:1}),a(o,null,{default:s(()=>e[18]||(e[18]=[t("First-level menu name (language pack key name)")])),_:1}),a(o,null,{default:s(()=>e[19]||(e[19]=[t("string")])),_:1}),a(o,null,{default:s(()=>e[20]||(e[20]=[t("-")])),_:1})]),_:1}),a(l,null,{default:s(()=>[a(o,null,{default:s(()=>e[21]||(e[21]=[t("hideInMenu")])),_:1}),a(o,null,{default:s(()=>e[22]||(e[22]=[t("Whether to hide this item in the left menu")])),_:1}),a(o,null,{default:s(()=>e[23]||(e[23]=[t("boolean")])),_:1}),a(o,null,{default:s(()=>e[24]||(e[24]=[t("-")])),_:1})]),_:1}),a(l,null,{default:s(()=>[a(o,null,{default:s(()=>e[25]||(e[25]=[t("hideChildrenInMenu")])),_:1}),a(o,null,{default:s(()=>e[26]||(e[26]=[t("Force single item to be displayed in left menu")])),_:1}),a(o,null,{default:s(()=>e[27]||(e[27]=[t("boolean")])),_:1}),a(o,null,{default:s(()=>e[28]||(e[28]=[t("-")])),_:1})]),_:1}),a(l,null,{default:s(()=>[a(o,null,{default:s(()=>e[29]||(e[29]=[t("activeMenu")])),_:1}),a(o,null,{default:s(()=>e[30]||(e[30]=[t("If set name, the menu will be highlighted according to the name you set")])),_:1}),a(o,null,{default:s(()=>e[31]||(e[31]=[t("string")])),_:1}),a(o,null,{default:s(()=>e[32]||(e[32]=[t("-")])),_:1})]),_:1}),a(l,null,{default:s(()=>[a(o,null,{default:s(()=>e[33]||(e[33]=[t("order")])),_:1}),a(o,null,{default:s(()=>e[34]||(e[34]=[t("Sort routing menu items. If this value is set, the higher the value, the higher the front.")])),_:1}),a(o,null,{default:s(()=>e[35]||(e[35]=[t("number")])),_:1}),a(o,null,{default:s(()=>e[36]||(e[36]=[t("-")])),_:1})]),_:1}),a(l,null,{default:s(()=>[a(o,null,{default:s(()=>e[37]||(e[37]=[t("noAffix")])),_:1}),a(o,null,{default:s(()=>e[38]||(e[38]=[t("If set to true, the tabs will not be added to the tab-bar.")])),_:1}),a(o,null,{default:s(()=>e[39]||(e[39]=[t("boolean")])),_:1}),a(o,null,{default:s(()=>e[40]||(e[40]=[t("-")])),_:1})]),_:1}),a(l,null,{default:s(()=>[a(o,null,{default:s(()=>e[41]||(e[41]=[t("ignoreCache")])),_:1}),a(o,null,{default:s(()=>e[42]||(e[42]=[t("If set to true the page will not be cached")])),_:1}),a(o,null,{default:s(()=>e[43]||(e[43]=[t("boolean")])),_:1}),a(o,null,{default:s(()=>e[44]||(e[44]=[t("-")])),_:1})]),_:1})]),_:1})]),_:1}),a(p,{level:"2",href:"Menu"},{default:s(()=>e[46]||(e[46]=[t("Menu")])),_:1}),e[53]||(e[53]=n("p",null,"Front-end menu generation process:",-1)),e[54]||(e[54]=n("ul",null,[n("li",null,[n("p",null,[t("Through the computed property of "),n("a",{class:"link",href:"https://github.com/arco-design/arco-design-pro-vue/blob/23a21ceb939e1e2334e8c3b0f1f8a8049503ad9d/arco-design-pro-vite/src/components/menu/useMenuTree.ts#L10"},"appRoute"),t(", a routing tree with routing information is obtained.")])]),n("li",null,[n("p",null,[t("Use the routing information obtained in the previous step to filter permissions to generate a menu "),n("a",{class:"link",href:"https://github.com/arco-design/arco-design-pro-vue/blob/23a21ceb939e1e2334e8c3b0f1f8a8049503ad9d/arco-design-pro-vite/src/components/menu/useMenuTree.ts#L23"},"tree for rendering"),t(".")])]),n("li",null,[n("p",null,[t("Recursively generate menus by "),n("a",{class:"link",href:"(https://github.com/arco-design/arco-design-pro-vue/blob/23a21ceb939e1e2334e8c3b0f1f8a8049503ad9d/arco-design-pro-vite/src/components/menu/index.vue#L48)"},"rendering"),t(" the menu tree.")])])],-1)),e[55]||(e[55]=n("p",null,"Server menu generation process:",-1)),e[56]||(e[56]=n("ul",null,[n("li",null,[n("p",null,[t("Add the "),n("a",{class:"link",href:"https://github.com/arco-design/arco-design-pro-vue/blob/23a21ceb939e1e2334e8c3b0f1f8a8049503ad9d/arco-design-pro-vite/src/store/modules/app/index.ts#L47"},"action"),t(" of the api request to the Store to obtain the routing configuration of the server.")])]),n("li",null,[n("p",null,"Add the action of the api request to the Store to obtain the routing configuration of the server.")]),n("li",null,[n("p",null,[t("Through the computed property of "),n("a",{class:"link",href:"https://github.com/arco-design/arco-design-pro-vue/blob/23a21ceb939e1e2334e8c3b0f1f8a8049503ad9d/arco-design-pro-vite/src/components/menu/useMenuTree.ts#L10"},"appRoute"),t(", a routing tree with routing information is obtained.")])]),n("li",null,[n("p",null,[t("Use the routing information obtained in the previous step to filter permissions to generate a menu "),n("a",{class:"link",href:"https://github.com/arco-design/arco-design-pro-vue/blob/23a21ceb939e1e2334e8c3b0f1f8a8049503ad9d/arco-design-pro-vite/src/components/menu/useMenuTree.ts#L23"},"tree for rendering"),t(".")])]),n("li",null,[n("p",null,[t("Recursively generate menus by "),n("a",{class:"link",href:"(https://github.com/arco-design/arco-design-pro-vue/blob/23a21ceb939e1e2334e8c3b0f1f8a8049503ad9d/arco-design-pro-vite/src/components/menu/index.vue#L48)"},"rendering"),t(" the menu tree.")])])],-1)),e[57]||(e[57]=n("p",null,[n("strong",null,"Note: Compared with the local menu generation process, the server menu only has more interface requests and server routing configuration information storage steps."),n("br"),n("strong",null,"Individual companies may have corresponding authority management systems to generate corresponding server-side routing configuration information and store them for front-end interface retrieval. However, the overall situation is similar, as long as the routing configuration information returned by the back-end interface conforms to the above routing configuration specifications and can be correctly parsed by the front-end")],-1)),a(p,{level:"2",href:"Steps-to-add-a-new-menu-item"},{default:s(()=>e[47]||(e[47]=[t("Steps to add a new menu item")])),_:1}),e[58]||(e[58]=n("p",null,"After understanding the routing and menu generation, you can configure a new menu item. Take a new monitoring page as an example.",-1)),e[59]||(e[59]=n("ul",null,[n("li",null,"Add a monitor folder in views/dashboard and add index.vue to it")],-1)),e[60]||(e[60]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token operator"},"<"),t("script lang"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"ts"'),t(" setup"),n("span",{class:"token operator"},">"),n("span",{class:"token operator"},"<"),t("script"),n("span",{class:"token operator"},">"),t(`
`)])],-1)),e[61]||(e[61]=n("ul",null,[n("li",null,"Add the routing configuration of the monitoring page in the routing table")],-1)),e[62]||(e[62]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[t(`export default {
`),n("span",{class:"token unchanged"},[n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},` path:'dashboard',
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},` name:'dashboard',
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},` component: () => import('@/views/dashboard/index.vue'),
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},` meta: {
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`   locale:'menu.dashboard',
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`   requiresAuth: true,
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`   icon:'icon-dashboard',
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},` },
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},` children: [
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`   {
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`     path:'workplace',
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`     name:'workplace',
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`     component: () => import('@/views/dashboard/workplace/index.vue'),
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`     meta: {
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`       locale:'menu.dashboard.workplace',
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`       requiresAuth: true,
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`     },
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},`   },
`)]),n("span",{class:"token inserted-sign inserted"},[n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},`   {
`),n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},`     path:'monitor',
`),n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},`     name:'monitor',
`),n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},`     component: () => import('@/views/dashboard/monitor/index.vue'),
`),n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},`     meta: {
`),n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},`       locale:'menu.dashboard.monitor',
`),n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},`       requiresAuth: true,
`),n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},`       roles: ['admin'],
`),n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},`     },
`),n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},`   },
`)]),n("span",{class:"token unchanged"},[n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},` ],
`)]),t(`};
`)])],-1)),e[63]||(e[63]=n("ul",null,[n("li",null,"Added menu name in language pack")],-1)),e[64]||(e[64]=n("p",null,"The following is the Chinese language pack, other language packs will not be repeated.",-1)),e[65]||(e[65]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[t(`// src/locale/zh-CN.ts
export default {
`),n("span",{class:"token unchanged"},[n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},` 'menu.dashboard':'Dashboard',
`),n("span",{class:"token prefix unchanged"}," "),n("span",{class:"token line"},` 'menu.dashboard.workplace':'Workbench',
`)]),n("span",{class:"token inserted-sign inserted"},[n("span",{class:"token prefix inserted"},"+"),n("span",{class:"token line"},` 'menu.dashboard.monitor':'Real-time monitoring',
`)]),t(`}
`)])],-1)),e[66]||(e[66]=n("p",null,"Above, the configuration of a menu item is completed. Now refresh the page to see the new menu item.",-1))]),_:1},16,["changelog"])}var q=v(I,[["render",R]]);export{q as default};
