import{_ as d,d as m,u as y,o as w,c as f,w as o,m as g,r,e as n,a as p,b as s}from"./index.9c61ea88.js";const T=m({name:"ArcoMain",components:{},setup(){const{locale:a}=y(),t={meta:{type:"Arco Pro"},title:"State management - Vuex",description:"Site-wide status management"},c=(l,u)=>a.value==="zh-CN"?l:u;return{locale:a,data:t,changelog:typeof _changelog=="undefined"?void 0:_changelog,getMessage:c}}});function S(a,t,c,k,l,u){const e=r("anchor-head"),i=r("arco-article");return w(),f(i,g(a.data,{changelog:a.changelog}),{default:o(()=>[t[4]||(t[4]=n("p",null,[n("em",null,"Auto translate by google.")],-1)),p(e,{level:"2",href:"Arco-Pro-Version"},{default:o(()=>t[0]||(t[0]=[s("Arco Pro Version")])),_:1}),t[5]||(t[5]=n("p",null,"Arco Pro < 2.1.0",-1)),t[6]||(t[6]=n("p",null,[n("strong",null,"Note"),s("\uFF1A Arco Pro version 2.1.0 has replaced the state management library with Pinia.")],-1)),p(e,{level:"2",href:"Foreword"},{default:o(()=>t[1]||(t[1]=[s("Foreword")])),_:1}),t[7]||(t[7]=n("p",null,"Global state management is an inevitable existence of a large system, because there are often some information that needs to be shared globally, such as user information, which needs to be stored, so vuex is built into PRO for information sharing.",-1)),t[8]||(t[8]=n("p",null,[s("Regarding the use of vuex + TS, it is recommended to consult the "),n("a",{class:"link",href:"https://next.vuex.vuejs.org/guide/typescript-support.html"},"official document"),s(".")],-1)),t[9]||(t[9]=n("p",null,"The official example of vuex can meet the most basic needs. But it lacks more detailed code hints and type inference. At the same time, TS type errors are prone to occur during the use of vuex official cases.",-1)),t[10]||(t[10]=n("p",null,'This example is improved on the basis of official documents and uses more complete type annotations and declarations to meet actual application scenarios. The amount of code will increase by an order of magnitude compared to before. This is a little "side effect" brought by TS, but the benefits it brings are still considerable, the code will be more rigorous, and problem location and troubleshooting will be more convenient.',-1)),t[11]||(t[11]=n("pre",{class:"code-content"},[n("code",null,`\u251C\u2500\u2500 modulers
\u2502 \u251C\u2500\u2500 user (specific module, subject to actual project)
\u2502 \u2502 \u2514\u2500\u2500 action-types.ts (action enumeration type)
\u2502 \u2502 \u2514\u2500\u2500 actions.ts (action implementation)
\u2502 \u2502 \u2514\u2500\u2500 getters.ts (specific implementation of getter)
\u2502 \u2502 \u2514\u2500\u2500 index.ts (module entry)
\u2502 \u2502 \u2514\u2500\u2500 mutations-types.ts (mutation enumeration type)
\u2502 \u2502 \u2514\u2500\u2500 mutations.ts (specific implementation of mutations)
\u2502 \u2502 \u2514\u2500\u2500 state.ts (state definition)
\u2502 \u2502 \u2514\u2500\u2500 types.ts (Summary of module types)
\u2502 \u251C\u2500\u2500 interface.ts (Summary of export modules)
\u251C\u2500\u2500 index.ts (used to export store)
\u251C\u2500\u2500 interface.ts (the definition of root)
\u251C\u2500\u2500 vuex.d.ts (Declare Vue's custom type)
`)],-1)),p(e,{level:"2",href:"Add-new-module"},{default:o(()=>t[2]||(t[2]=[s("Add new module")])),_:1}),t[12]||(t[12]=n("p",null,"PS: There is no obvious root node in Pro, or it is recommended to abandon the root node and take the module as a unit for overall processing. No namespace is used between modules. Therefore, when adding a new module by yourself, you need to isolate the namespace of getter, action, and mutation by yourself. Otherwise it will be overwritten.",-1)),t[13]||(t[13]=n("p",null,"In Pro, for state, getter, action, and mutation, type definitions are performed first, and then declarations and assignments are performed.",-1)),t[14]||(t[14]=n("ol",null,[n("li",null,"Add state")],-1)),t[15]||(t[15]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token comment"},"// store/modulers/user/state.ts"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"UserStateTypes"),s(),n("span",{class:"token punctuation"},"{"),s(`
  name`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
  location`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"const"),s(" state"),n("span",{class:"token operator"},":"),s(" UserStateTypes "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    name`),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'arco'"),n("span",{class:"token punctuation"},","),s(`
    location`),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'beijing'"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1)),t[16]||(t[16]=n("ol",{start:"2"},[n("li",null,"Add a getter")],-1)),t[17]||(t[17]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token comment"},"// store/modulers/user/getters.ts"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("GetterTree"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'vuex'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("UserStateTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./state'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("RootState"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'@/store/interface'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"UserGettersTypes"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function"},"userInfo"),n("span",{class:"token punctuation"},"("),s("state"),n("span",{class:"token operator"},":"),s(" UserStateTypes"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(" UserStateTypes"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"const"),s(" getters"),n("span",{class:"token operator"},":"),s(" GetterTree"),n("span",{class:"token operator"},"<"),s("UserStateTypes"),n("span",{class:"token punctuation"},","),s(" RootState"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"&"),s(" UserGettersTypes "),n("span",{class:"token operator"},"="),s(`
  `),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function-variable function"},"userInfo"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),s("state"),n("span",{class:"token operator"},":"),s(" UserStateTypes"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token operator"},"..."),s("state "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1)),t[18]||(t[18]=n("ol",{start:"3"},[n("li",null,"Add mutation-types")],-1)),t[19]||(t[19]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token comment"},"// store/modulers/user/mutation-types.ts"),s(`
`),n("span",{class:"token comment"},"// It is recommended to add a namespace to the enumeration value to prevent it from being overwritten."),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"enum"),s(" MutationTypes "),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token constant"},"USER_RESET_INFO"),s(),n("span",{class:"token operator"},"="),n("span",{class:"token string"},"'USER/RESET_INFO'"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])],-1)),t[20]||(t[20]=n("ol",{start:"4"},[n("li",null,"Add mutation")],-1)),t[21]||(t[21]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token comment"},"// store/modulers/user/mutations.ts"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("MutationTree"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'vuex'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("MutationTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./mutation-types'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("UserStateTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./state'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[s("UserMutationsTypes"),n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"S"),s(),n("span",{class:"token operator"},"="),s(" UserStateTypes"),n("span",{class:"token operator"},">")]),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
 `),n("span",{class:"token punctuation"},"["),s("MutationTypes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"USER_RESET_INFO"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"("),s("state"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"S"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"void"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"const"),s(" mutations"),n("span",{class:"token operator"},":"),s(" MutationTree"),n("span",{class:"token operator"},"<"),s("UserStateTypes"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"&"),s(" UserMutationsTypes "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
 `),n("span",{class:"token punctuation"},"["),s("MutationTypes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"USER_RESET_INFO"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"("),s("state"),n("span",{class:"token operator"},":"),s(" UserStateTypes"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1)),t[22]||(t[22]=n("ol",{start:"5"},[n("li",null,"Add action-types")],-1)),t[23]||(t[23]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token comment"},"// store/modulers/user/action-types.ts"),s(`
`),n("span",{class:"token comment"},"// It is recommended to add a namespace to the enumeration value to prevent it from being overwritten."),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"enum"),s(" ActionTypes "),n("span",{class:"token punctuation"},"{"),s(`
 `),n("span",{class:"token constant"},"USER_LOGIN"),s(),n("span",{class:"token operator"},"="),n("span",{class:"token string"},"'USER/USER_LOGIN'"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])],-1)),t[24]||(t[24]=n("ol",{start:"6"},[n("li",null,"Add action")],-1)),t[25]||(t[25]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token comment"},"// store/modulers/user/action.ts"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("ActionTree"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'vuex'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("UserStateTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./state'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("ActionTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./action-types'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("MutationTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./mutation-types'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("UserMutationsTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./mutations'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("RootState"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'@/store/interface'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"UserAugmentedActionContext"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
 `),n("span",{class:"token generic-function"},[n("span",{class:"token function"},"commit"),n("span",{class:"token generic class-name"},[n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"K"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token keyword"},"keyof"),s(" UserMutationsTypes"),n("span",{class:"token operator"},">")])]),n("span",{class:"token punctuation"},"("),s(`
   key`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},","),s(`
   payload`),n("span",{class:"token operator"},":"),s(" Parameters"),n("span",{class:"token operator"},"<"),s("UserMutationsTypes"),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},"]"),s(`
 `),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(" ReturnType"),n("span",{class:"token operator"},"<"),s("UserMutationsTypes"),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"&"),s(" Omit"),n("span",{class:"token operator"},"<"),s("ActionContext"),n("span",{class:"token operator"},"<"),s("UserStateTypes"),n("span",{class:"token punctuation"},","),s(" RootState"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),n("span",{class:"token string"},"'commit'"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"UserActionsTypes"),s(),n("span",{class:"token punctuation"},"{"),s(`
 `),n("span",{class:"token punctuation"},"["),s("ActionTypes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"USER_LOGIN"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"("),s(`
   `),n("span",{class:"token punctuation"},"{"),s("commit "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token operator"},":"),s(" UserAugmentedActionContext"),n("span",{class:"token punctuation"},","),s(`
   payload`),n("span",{class:"token operator"},":"),s(` LoginData
 `),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Promise"),n("span",{class:"token operator"},"<"),n("span",{class:"token builtin"},"unknown"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"const"),s(" actions"),n("span",{class:"token operator"},":"),s(" ActionTree"),n("span",{class:"token operator"},"<"),s("UserStateTypes"),n("span",{class:"token punctuation"},","),s(" RootState"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"&"),s(" UserActionsTypes "),n("span",{class:"token operator"},"="),s(`
 `),n("span",{class:"token punctuation"},"{"),s(`
   `),n("span",{class:"token punctuation"},"["),s("ActionTypes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"USER_LOGIN"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
     `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[n("span",{class:"token builtin"},"Promise")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("resolve"),n("span",{class:"token punctuation"},","),s(" reject"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
         `),n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
           `),n("span",{class:"token function"},"resolve"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
         `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"1000"),n("span",{class:"token punctuation"},")"),s(`
     `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
   `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
 `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1)),t[26]||(t[26]=n("ol",{start:"7"},[n("li",null,"Module declaration")],-1)),t[27]||(t[27]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token comment"},"// store/modulers/user/type.ts"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("Store "),n("span",{class:"token keyword"},"as"),s(" VuexStore"),n("span",{class:"token punctuation"},","),s(" CommitOptions"),n("span",{class:"token punctuation"},","),s(" DispatchOptions"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'vuex'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("UserStateTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./state'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("UserMutationsTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./mutations'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("UserGettersTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./getters'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("UserActionsTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./actions'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[s("UserStoreModuleTypes"),n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"S"),s(),n("span",{class:"token operator"},"="),s(" UserStateTypes"),n("span",{class:"token operator"},">")]),s(),n("span",{class:"token operator"},"="),s(" Omit"),n("span",{class:"token operator"},"<"),s(`
 VuexStore`),n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"S"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
 `),n("span",{class:"token string"},"'commit'"),s(),n("span",{class:"token operator"},"|"),n("span",{class:"token string"},"'getters'"),s(),n("span",{class:"token operator"},"|"),n("span",{class:"token string"},"'dispatch'"),s(`
`),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"&"),s(),n("span",{class:"token punctuation"},"{"),s(`
 `),n("span",{class:"token generic-function"},[n("span",{class:"token function"},"commit"),n("span",{class:"token generic class-name"},[n("span",{class:"token operator"},"<"),s(`
   `),n("span",{class:"token constant"},"K"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token keyword"},"keyof"),s(" UserMutationsTypes"),n("span",{class:"token punctuation"},","),s(`
   `),n("span",{class:"token constant"},"P"),s(),n("span",{class:"token keyword"},"extends"),s(" Parameters"),n("span",{class:"token operator"},"<"),s("UserMutationsTypes"),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},"]"),s(`
 `),n("span",{class:"token operator"},">")])]),n("span",{class:"token punctuation"},"("),s(`
   key`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},","),s(`
   payload`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"P"),n("span",{class:"token punctuation"},","),s(`
   options`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(` CommitOptions
 `),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(" ReturnType"),n("span",{class:"token operator"},"<"),s("UserMutationsTypes"),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"&"),s(),n("span",{class:"token punctuation"},"{"),s(`
 getters`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
   `),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"K"),s(),n("span",{class:"token keyword"},"in"),s(),n("span",{class:"token keyword"},"keyof"),s(" UserGettersTypes"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},":"),s(" ReturnType"),n("span",{class:"token operator"},"<"),s("UserGettersTypes"),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
 `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"&"),s(),n("span",{class:"token punctuation"},"{"),s(`
 `),n("span",{class:"token comment"},"// overwrite state"),s(`
 `),n("span",{class:"token comment"},"// Note!!! Note!!! Note!!! If you do not merge here, there will be an extra state layer in the actual code prompt."),s(`
 `),n("span",{class:"token comment"},"// store.state.user.state.name"),s(`
 `),n("span",{class:"token comment"},"// In order to have a more complete prompt, put the state here for rewriting."),s(`
 `),n("span",{class:"token comment"},"// store.state.user.name (For the specific implementation, there will still be one more state prompt, if the correct use is not guaranteed, it is recommended to use a getter)"),s(`
 `),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"K"),s(),n("span",{class:"token keyword"},"in"),s(),n("span",{class:"token keyword"},"keyof"),s(" UserStateTypes"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},":"),s(" UserStateTypes"),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"&"),s(),n("span",{class:"token punctuation"},"{"),s(`
 `),n("span",{class:"token generic-function"},[n("span",{class:"token function"},"dispatch"),n("span",{class:"token generic class-name"},[n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"K"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token keyword"},"keyof"),s(" UserActionsTypes"),n("span",{class:"token operator"},">")])]),n("span",{class:"token punctuation"},"("),s(`
   key`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},","),s(`
   payload`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(" Parameters"),n("span",{class:"token operator"},"<"),s("UserActionsTypes"),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
   options`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(` DispatchOptions
 `),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(" ReturnType"),n("span",{class:"token operator"},"<"),s("UserActionsTypes"),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"K"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1)),t[28]||(t[28]=n("ol",{start:"8"},[n("li",null,"Module assembly")],-1)),t[29]||(t[29]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("Module"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'vuex'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("UserStateTypes"),n("span",{class:"token punctuation"},","),s(" RootState"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'@/store/interface'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("getters"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./getters'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("actions"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./actions'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("mutations"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./mutations'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("state"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./state'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Module"),s(`
`),n("span",{class:"token keyword"},"const"),s(" user"),n("span",{class:"token operator"},":"),s(" Module"),n("span",{class:"token operator"},"<"),s("UserStateTypes"),n("span",{class:"token punctuation"},","),s(" RootState"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  state`),n("span",{class:"token punctuation"},","),s(`
  getters`),n("span",{class:"token punctuation"},","),s(`
  mutations`),n("span",{class:"token punctuation"},","),s(`
  actions`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(" user"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1)),t[30]||(t[30]=n("ol",{start:"9"},[n("li",null,"Reference Module")],-1)),t[31]||(t[31]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token comment"},"// store/modulers/index.ts"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("ModuleTree"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'vuex'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("RootState"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'@/store/interface'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(" user "),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./user'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// Modules"),s(`
`),n("span",{class:"token keyword"},"const"),s(" modules"),n("span",{class:"token operator"},":"),s(" ModuleTree"),n("span",{class:"token operator"},"<"),s("RootState"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  user`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(" modules"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1)),t[32]||(t[32]=n("ol",{start:"10"},[n("li",null,"Import modules")],-1)),t[33]||(t[33]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token comment"},"// store/index.ts"),s(`
`),n("span",{class:"token comment"},"//In the example here, only key statements are kept. See the pro project for details."),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  createStore`),n("span",{class:"token punctuation"},","),s(`
  useStore `),n("span",{class:"token keyword"},"as"),s(" VuexUseStore"),n("span",{class:"token punctuation"},","),s(`
  Store `),n("span",{class:"token keyword"},"as"),s(" VuexStore"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'vuex'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("RootState"),n("span",{class:"token punctuation"},","),s(" UserStateTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./interface'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("UserStoreModuleTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./modules/interface'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(" modules "),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'./modules/index'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"StoreModules"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  user`),n("span",{class:"token operator"},":"),s(" UserStoreModuleTypes"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"StateModuler"),s(),n("span",{class:"token punctuation"},"{"),s(`
  user`),n("span",{class:"token operator"},":"),s(" UserStateTypes"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"Store"),s(),n("span",{class:"token operator"},"="),s(" UserStoreModuleTypes"),n("span",{class:"token operator"},"<"),s("Pick"),n("span",{class:"token operator"},"<"),s("StoreModules"),n("span",{class:"token punctuation"},","),n("span",{class:"token string"},"'user'"),n("span",{class:"token operator"},">>"),s(`
`)])],-1)),t[34]||(t[34]=n("p",null,"There will be some undefined attributes or types in the actual operation process, and users can expand on this basis according to their needs and draw inferences about them to meet their own needs.",-1)),t[35]||(t[35]=n("p",null,"For this example, there is still room for improvement and improvement. Feedback and exchanges are welcome.",-1)),p(e,{level:"2",href:"Specific-use"},{default:o(()=>t[3]||(t[3]=[s("Specific use")])),_:1}),t[36]||(t[36]=n("pre",{class:"code-content"},[n("code",{class:"language-lang"},[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("defineComponent"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'vue'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("useStore"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'@/store'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("MutationTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'@/store/modules/user/mutation-types'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("ActionTypes"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),n("span",{class:"token string"},"'@/store/modules/user/action-types'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token function"},"defineComponent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function"},"setup"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"const"),s(" store "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"useStore"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"resetUserInfo"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
        store`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"commit"),n("span",{class:"token punctuation"},"("),s("MutationTypes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"USER_RESET_INFO"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"login"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"const"),s(" userInfo "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
        username`),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'admin'"),n("span",{class:"token punctuation"},","),s(`
        password`),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'admin'"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"await"),s(" store"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"dispatch"),n("span",{class:"token punctuation"},"("),s("ActionTypes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"USER_LOGIN"),n("span",{class:"token punctuation"},","),s(" userInfo"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),s(`
      login`),n("span",{class:"token punctuation"},","),s(`
      resetUserInfo
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
`)])],-1))]),_:1},16,["changelog"])}var x=d(T,[["render",S]]);export{x as default};
